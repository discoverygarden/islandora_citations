services:
  islandora_citations.controller:
    class: Drupal\islandora_citations\Controller\IslandoraCitationsController
    arguments: ['@entity_field.manager']
  islandora_citations.route_subscriber:
    class: Drupal\islandora_citations\Routing\RouteSubscriber
    arguments: [ '@entity_type.manager', '@config.factory' ]
    tags:
      - { name: event_subscriber }
  serializer.encoder.csljson:
    class: Drupal\islandora_citations\Encoder\IslandoraCSLEncoder
    tags:
      - { name: encoder, priority: 10, format: csl-json }
  serializer.islandora_citations.csljson.content_entity:
    class: Drupal\islandora_citations\Normalizer\ContentEntityNormalizer
    tags:
      - { name: normalizer, priority: 10 }
  serializer.islandora_citations.csljson.field_item_list:
    class: Drupal\islandora_citations\Normalizer\FieldItemListNormalizer
    tags:
      - { name: normalizer, priority: 10 }
  serializer.normalizer.typed_relation:
    class: \Drupal\islandora_citations\Normalizer\TypedRelationNormalizer
    tags:
      - { name: normalizer, priority: 20 }

